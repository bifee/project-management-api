# Project Management API - EspecificaÃ§Ãµes

## ğŸ“‹ VisÃ£o Geral

Uma **API REST** que permite que **equipes gerenciem projetos e tarefas**, similar ao **Jira** ou **Trello**.

---

## ğŸ‘¥ Entidades Principais

### 1. **User (UsuÃ¡rio)**

```
Campos:
â”œâ”€â”€ id (Long) - Identificador Ãºnico
â”œâ”€â”€ email (String) - Email Ãºnico para login
â”œâ”€â”€ password (String) - Senha criptografada
â”œâ”€â”€ name (String) - Nome do usuÃ¡rio
â”œâ”€â”€ role (Enum) - ADMIN, PROJECT_MANAGER, DEV, VIEWER
â”œâ”€â”€ createdAt (LocalDateTime) - Quando foi criado
â””â”€â”€ isActive (Boolean) - Ativo ou inativo
```

**Relacionamentos:**
- Pode ter mÃºltiplos **Projetos** (OneToMany)
- Pode ter mÃºltiplas **Tarefas** (OneToMany)

---

### 2. **Project (Projeto)**

```
Campos:
â”œâ”€â”€ id (Long) - Identificador Ãºnico
â”œâ”€â”€ name (String) - Nome do projeto
â”œâ”€â”€ description (String) - DescriÃ§Ã£o
â”œâ”€â”€ status (Enum) - BACKLOG, IN_PROGRESS, COMPLETED, CANCELLED
â”œâ”€â”€ ownerId (Long) - Quem criou (referÃªncia User)
â”œâ”€â”€ createdAt (LocalDateTime)
â”œâ”€â”€ updatedAt (LocalDateTime)
â””â”€â”€ members (List<User>) - Membros do projeto
```

**Relacionamentos:**
- Pertence a um **User** (OneToMany)
- Tem mÃºltiplas **Tarefas** (OneToMany)
- Tem mÃºltiplos **Members** (ManyToMany)

---

### 3. **Task (Tarefa)**

```
Campos:
â”œâ”€â”€ id (Long) - Identificador Ãºnico
â”œâ”€â”€ title (String) - TÃ­tulo da tarefa
â”œâ”€â”€ description (String) - DescriÃ§Ã£o
â”œâ”€â”€ status (Enum) - TO_DO, IN_PROGRESS, REVIEW, DONE
â”œâ”€â”€ priority (Enum) - LOW, MEDIUM, HIGH, CRITICAL
â”œâ”€â”€ assigneeId (Long) - Quem estÃ¡ fazendo (User)
â”œâ”€â”€ projectId (Long) - Em qual projeto estÃ¡ (Project)
â”œâ”€â”€ dueDate (LocalDate) - Data de vencimento
â”œâ”€â”€ createdAt (LocalDateTime)
â”œâ”€â”€ updatedAt (LocalDateTime)
â””â”€â”€ comments (List<Comment>) - ComentÃ¡rios na tarefa
```

**Relacionamentos:**
- Pertence a um **Project** (ManyToOne)
- AtribuÃ­da a um **User** (ManyToOne)
- Tem mÃºltiplos **Comments** (OneToMany)

---

### 4. **Comment (ComentÃ¡rio)**

```
Campos:
â”œâ”€â”€ id (Long) - Identificador Ãºnico
â”œâ”€â”€ content (String) - ConteÃºdo do comentÃ¡rio
â”œâ”€â”€ authorId (Long) - Quem comentou (User)
â”œâ”€â”€ taskId (Long) - Em qual tarefa (Task)
â”œâ”€â”€ createdAt (LocalDateTime)
â””â”€â”€ updatedAt (LocalDateTime)
```

**Relacionamentos:**
- Pertence a uma **Task** (ManyToOne)
- Pertence a um **User** (ManyToOne)

---

## ğŸ” Sistema de PermissÃµes

```
ADMIN
â”œâ”€â”€ Pode criar/editar/deletar qualquer projeto
â”œâ”€â”€ Pode gerenciar usuÃ¡rios
â””â”€â”€ Acesso total

PROJECT_MANAGER
â”œâ”€â”€ Pode criar projetos
â”œâ”€â”€ Pode gerenciar membros do seu projeto
â”œâ”€â”€ Pode ver projetos que participa
â””â”€â”€ Pode deletar suas prÃ³prias tarefas

DEV
â”œâ”€â”€ Pode ver projetos que participa
â”œâ”€â”€ Pode criar/editar suas prÃ³prias tarefas
â””â”€â”€ Pode comentar em tarefas

VIEWER
â”œâ”€â”€ Pode apenas visualizar
â””â”€â”€ Sem permissÃ£o de escrita
```

---

## ğŸ“¡ Endpoints da API

### **Authentication**
```
POST   /api/auth/register       - Registrar novo usuÃ¡rio
POST   /api/auth/login          - Fazer login (retorna JWT)
POST   /api/auth/refresh        - Renovar token
POST   /api/auth/logout         - Logout
```

### **UsuÃ¡rios**
```
GET    /api/users               - Listar todos (ADMIN)
GET    /api/users/{id}          - Detalhes do usuÃ¡rio
PUT    /api/users/{id}          - Atualizar perfil
DELETE /api/users/{id}          - Deletar (ADMIN)
```

### **Projetos**
```
GET    /api/projects            - Listar meus projetos
POST   /api/projects            - Criar projeto
GET    /api/projects/{id}       - Detalhes do projeto
PUT    /api/projects/{id}       - Atualizar projeto
DELETE /api/projects/{id}       - Deletar projeto
POST   /api/projects/{id}/members/{userId}  - Adicionar membro
DELETE /api/projects/{id}/members/{userId}  - Remover membro
```

### **Tarefas**
```
GET    /api/projects/{projectId}/tasks      - Listar tarefas do projeto
POST   /api/projects/{projectId}/tasks      - Criar tarefa
GET    /api/tasks/{id}                      - Detalhes da tarefa
PUT    /api/tasks/{id}                      - Atualizar tarefa
DELETE /api/tasks/{id}                      - Deletar tarefa
PATCH  /api/tasks/{id}/status               - Mudar status
```

### **ComentÃ¡rios**
```
GET    /api/tasks/{taskId}/comments         - Listar comentÃ¡rios
POST   /api/tasks/{taskId}/comments         - Criar comentÃ¡rio
DELETE /api/comments/{id}                   - Deletar comentÃ¡rio
```

---

## ğŸ—ï¸ Arquitetura em Camadas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         REST Controller                 â”‚
â”‚  (HTTP Request/Response + ValidaÃ§Ã£o)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Service (LÃ³gica)                â”‚
â”‚  (Regras de negÃ³cio + SeguranÃ§a)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Repository (JPA)                â”‚
â”‚  (Acesso a dados)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Entity (Modelo de Dados)           â”‚
â”‚  (RepresentaÃ§Ã£o do banco)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      PostgreSQL Database                â”‚
â”‚  (Tabelas, Constraints)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Fluxo de uma RequisiÃ§Ã£o

**Exemplo: Criar uma Tarefa**

```
1. Cliente envia:
   POST /api/projects/1/tasks
   Authorization: Bearer <JWT_TOKEN>
   {
     "title": "Implementar login",
     "priority": "HIGH"
   }

2. Spring Security valida o JWT
   â”œâ”€ Token Ã© vÃ¡lido?  
   â”œâ”€ UsuÃ¡rio tem permissÃ£o?
   â””â”€ Se nÃ£o, retorna 401/403

3. Controller recebe a requisiÃ§Ã£o
   â”œâ”€ Valida dados com @Valid
   â””â”€ Chama service.createTask()

4. Service executa lÃ³gica
   â”œâ”€ Verifica se projeto existe
   â”œâ”€ Verifica se usuÃ¡rio Ã© membro
   â”œâ”€ Verifica se tem permissÃ£o
   â””â”€ Cria tarefa no banco

5. Repository salva no banco
   â”œâ”€ INSERT INTO tasks...  
   â””â”€ Retorna tarefa criada

6. Controller retorna resposta
   {
     "id": 123,
     "title": "Implementar login",
     "status": "TO_DO",
     ...  
   }
```

---

## ğŸ“Š Banco de Dados - Tabelas

```sql
users
â”œâ”€â”€ id (PK)
â”œâ”€â”€ email (UNIQUE)
â”œâ”€â”€ password
â”œâ”€â”€ name
â”œâ”€â”€ role
â”œâ”€â”€ createdAt
â””â”€â”€ isActive

projects
â”œâ”€â”€ id (PK)
â”œâ”€â”€ name
â”œâ”€â”€ description
â”œâ”€â”€ status
â”œâ”€â”€ owner_id (FK â†’ users)
â”œâ”€â”€ createdAt
â””â”€â”€ updatedAt

project_members (ManyToMany)
â”œâ”€â”€ project_id (FK â†’ projects)
â”œâ”€â”€ user_id (FK â†’ users)
â””â”€â”€ PK (project_id, user_id)

tasks
â”œâ”€â”€ id (PK)
â”œâ”€â”€ title
â”œâ”€â”€ description
â”œâ”€â”€ status
â”œâ”€â”€ priority
â”œâ”€â”€ assignee_id (FK â†’ users)
â”œâ”€â”€ project_id (FK â†’ projects)
â”œâ”€â”€ due_date
â”œâ”€â”€ createdAt
â””â”€â”€ updatedAt

comments
â”œâ”€â”€ id (PK)
â”œâ”€â”€ content
â”œâ”€â”€ author_id (FK â†’ users)
â”œâ”€â”€ task_id (FK â†’ tasks)
â”œâ”€â”€ createdAt
â””â”€â”€ updatedAt
```

---

## ğŸ¯ Tecnologias por Camada

```
Frontend (nÃ£o Ã© escopo desse projeto)
    â†“ HTTP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Camada Web
â”œâ”€ Spring Boot (Framework principal)
â”œâ”€ Spring MVC (Controllers, HTTP)
â””â”€ Spring Security (AutenticaÃ§Ã£o, AutorizaÃ§Ã£o)

Camada de NegÃ³cio
â”œâ”€ Services (LÃ³gica)
â””â”€ DTOs (Data Transfer Objects)

Camada de PersistÃªncia
â”œâ”€ Spring Data JPA (ORM)
â”œâ”€ Hibernate (ImplementaÃ§Ã£o JPA)
â””â”€ PostgreSQL (Banco de dados)

Utilities
â”œâ”€ Nimbus JWT (Tokens)
â”œâ”€ Validation (ValidaÃ§Ãµes)
â””â”€ Lombok (GeraÃ§Ã£o de cÃ³digo)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â†“ SQL
PostgreSQL Database
```

---

## ğŸš€ Roadmap de ImplementaÃ§Ã£o

**Fase 1: AutenticaÃ§Ã£o**
- User entity
- JWT Token Provider
- Auth Controller

**Fase 2: CRUD de Projetos**
- Project entity
- ProjectRepository
- ProjectService
- ProjectController

**Fase 3: CRUD de Tarefas**
- Task entity
- TaskRepository
- TaskService
- TaskController

**Fase 4: ComentÃ¡rios**
- Comment entity
- CommentRepository
- CommentService
- CommentController

**Fase 5: Testes**
- Testes unitÃ¡rios dos services
- Testes de integraÃ§Ã£o dos controllers

**Fase 6: Melhorias**
- WebSocket para notificaÃ§Ãµes real-time
- PaginaÃ§Ã£o em listagens
- Filtros avanÃ§ados
- DocumentaÃ§Ã£o Swagger/OpenAPI

---

## ğŸ“Œ InformaÃ§Ãµes do Projeto

- **Linguagem:** Java 17+
- **Framework Principal:** Spring Boot 4.0.0
- **Banco de Dados:** PostgreSQL
- **AutenticaÃ§Ã£o:** JWT (Nimbus JOSE+JWT)
- **ORM:** Spring Data JPA + Hibernate
- **Build:** Maven
- **IDE Recomendada:** IntelliJ IDEA ou Eclipse

---

**VersÃ£o:** 1.0.0  
**Ãšltima AtualizaÃ§Ã£o:** Dezembro 2025